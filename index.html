<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Zen YouTube Audio Player</title>

    <link rel="stylesheet" href="css/styles.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
<body>
    <div id="hero">
        <h1>Zen YouTube Audio Player</h1>
        <div>
            <label for="query">Enter a YouTube video ID or URL</label>
            <br>
            <input type="text" id="query" name="query" placeholder="YouTube video ID or URL here">
            <br>
            <br>
            <button id="submit">Submit</button>
        </div>
        <br>
        <br>
        <br>

        <iframe id="player" type="text/html" width="400" height="30" src="about:blank" frameborder="0"></iframe>
    </div>

    <script type="text/javascript">
        function getParameterByName(url, name) {
            name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(url);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }

        var head = "http://www.youtube.com/embed/";
        var tail = "?enablejsapi=1&origin=http://example.com&autoplay=1";

        $(function() {
            $("#submit").click(function() {
                var formValue = $("#query").val();
                if (formValue) {
                    var url = head;
                    // YouTube video ID string
                    if (formValue.indexOf("youtube.com") === -1) {
                         url += formValue;
                    }
                    // YouTube video URL string, parse the v parameter
                    else {
                        url += getParameterByName(formValue, "v");
                    }
                    
                    $("#player").attr("src", url + tail);
                }
                else {
                    alert("Try entering a value!");
                }
            });
        });
    </script>
</body>
</html>